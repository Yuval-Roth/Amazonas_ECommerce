public class ShoppingCart {
    private List<Product> products;

    // methods to add, remove products, and calculate total weight

    public double getTotalWeight() {
        return products.stream().mapToDouble(Product::getWeight).sum();
    }
}

public class User {
    private int age;

    public int getAge() {
        return age;
    }

    // other user attributes and methods
}

public class Main {
    public static void main(String[] args) {
        
        PurchaseRule rule1 = new MaxWeightRule(5.0);
        PurchaseRule rule2 = new AgeRestrictionRule(18);
        PurchaseRule rule3 = new TimeRestrictionRule(23);
        PurchaseRule rule4 = new DateRestrictionRule(MonthDay.of(1, 1));


        PurchaseRule combinedRule = new AndRule(Arrays.asList(
            new ConditionalRule(new MaxWeightRule(5.0), new ProductRule("eggplant", 2)),
            new OrRule(Arrays.asList(
                new TimeRestrictionRule(23),
                new HolidayRule()
            ))
        ));


        ShoppingCart cart = new ShoppingCart();
        User user = new User(20);

        if (combinedRule.isSatisfied(cart, user)) {
            System.out.println("good");
        } else {
            System.out.println("bad");
        }
    }
}
